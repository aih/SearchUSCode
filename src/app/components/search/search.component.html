<mat-drawer-container style="height: 80%" [hasBackdrop]="false" >
  <mat-drawer [autoFocus]="false" #drawer [mode]="'over'">
    <mat-icon class="close-sidenav" (click)="drawer.close()">close</mat-icon>
    <app-advanced-search [searchParams]="searchParams"></app-advanced-search>
  </mat-drawer>
  <mat-drawer-content>

    <div class="content" role="main" [formGroup]="searchParams">

      <div class="card search-card">
        <mat-form-field>
          <input
            #search
            type="text"
            autocomplete="off"
            placeholder="Search the U.S. Code"
            matInput
            (focusin)="drawer.open()"
            formControlName="q"
            (keyup.enter)="getData();"
          />

          <!--[matAutocomplete]="auto"-->
          <!--
          <mat-autocomplete #auto="matAutocomplete">
            <mat-option *ngFor="let option of filteredOptions | async" [value]="option.cite">
              {{ option.cite }}
            </mat-option>
          </mat-autocomplete>
          -->
        </mat-form-field>
      </div>

      <div class="result-list" *ngIf="data">
        <ng-container *ngFor="let d of data; let i = index">
          <div
            *ngIf="i >= paginator.pageIndex * paginator.pageSize && i < (paginator.pageIndex + 1) * paginator.pageSize"
            class="result-item">
            <a [state]="d" [routerLink]="'/page/' + d._id">{{d._source.number}}{{d._source.heading}}</a>
            <div [innerHTML]="d.highlight.text.join('...')"></div>
          </div>
        </ng-container>

        <mat-paginator #paginator [pageSize]="5" [length]="data.length"></mat-paginator>
      </div>

    </div>
  </mat-drawer-content>
</mat-drawer-container>


