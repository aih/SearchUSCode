<div class="content" role="main">
  <div class="card search-card">
    <mat-form-field>
      <input
        #search
        type="text"
        placeholder="Search the U.S. Code"
        matInput
        [formControl]="uscSearchControl"
        [matAutocomplete]="auto"
        (keyup.enter)="getData(uscSearchControl.value)"
      />
      <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let option of filteredOptions | async" [value]="option.cite" >
          {{ option.cite }}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
  </div>

  <div class="result-list" *ngIf="data">
    <ng-container *ngFor="let d of data; let i = index">
      <div *ngIf="i >= paginator.pageIndex * paginator.pageSize && i < (paginator.pageIndex + 1) * paginator.pageSize" class="result-item" >
        <a [state]="d" [routerLink]="'/page/' + d._id">{{d._source.heading}}</a>
        <div [innerHTML]="d.highlight.text"></div>
      </div>
    </ng-container>

    <mat-paginator #paginator [pageSize]="5" [length]="data.length"></mat-paginator>
  </div>

</div>

